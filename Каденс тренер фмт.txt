–ö–∞–¥–µ–Ω—Å —Ç—Ä–µ–Ω–µ—Ä —Ñ–º—Ç

### –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∞ —Ñ–∞–π–ª–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –¥–ª—è –≤–µ–ª–æ—Å—Ç–∞–Ω–∫–∞ (–≤–µ—Ä—Å–∏—è 1.2)

#### 1. –û–±—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
–§–∞–π–ª –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏ —Ä–∞–∑–¥–µ–ª–∞–º–∏:
- formatVersion - –≤–µ—Ä—Å–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ (—Å—Ç—Ä–æ–∫–∞)
- metadata - –º–µ—Ç–∞–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ
- userProfile - –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- bikeSettings - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ–ª–æ—Å—Ç–∞–Ω–∫–∞
- workoutPlan - –ø–ª–∞–Ω —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
- workoutData - —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### 2. –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (metadata)
JSON
Ó¶∫
Ó•ä
{
  "id": "UUID –≤ —Å—Ç—Ä–æ–∫–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ",
  "title": "–ù–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
  "author": "–ê–≤—Ç–æ—Ä/—Ç—Ä–µ–Ω–µ—Ä",
  "creationDate": "–î–∞—Ç–∞ –≤ ISO 8601",
  "modificationDate": "–î–∞—Ç–∞ –≤ ISO 8601",
  "tags": ["—Å–ø–∏—Å–æ–∫", "—Ç–µ–≥–æ–≤"],
  "difficulty": "easy/medium/hard"  
}
#### 3. –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (userProfile)
JSON
Ó¶∫
Ó•ä
{
  "weightKg": 75.5,
  "heightCm": 180,
  "age": 30,
  "gender": "male/female/other",
  "maxHeartRate": 185,
  "ftp": 250,
  "powerZones": [120, 150, 180, 210, 240]
}
#### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤–µ–ª–æ—Å—Ç–∞–Ω–∫–∞ (bikeSettings)
JSON
Ó¶∫
Ó•ä
{
  "model": "–ú–æ–¥–µ–ª—å —Å—Ç–∞–Ω–∫–∞",
  "resistanceUnit": "percent/level/nm",
  "calibration": {
    "lastCalibrated": "–î–∞—Ç–∞ –≤ ISO 8601",
    "coefficient": 1.02
  },
  "maxResistance": 100  
}
#### 5. –ü–ª–∞–Ω —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ (workoutPlan)
–û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–ª—è:
- totalDurationSec - –æ–±—â–∞—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤ —Å–µ–∫—É–Ω–¥–∞—Ö
- targets - —Ü–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
- segments - –º–∞—Å—Å–∏–≤ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏

##### 5.1 –°–µ–≥–º–µ–Ω—Ç —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
JSON
Ó¶∫
Ó•ä
{
  "type": "warmup/interval/cooldown/recovery",
  "durationSec": 600,
  "targetPower": {
    "type": "constant/ramp/step",
    "value": 150,
    "start": 100,
    "end": 200
  },
  "targetCadence": {
    "min": 80,
    "max": 90
  },
  "resistance": 50,
  "positionSettings": {
    "handsPosition": "hoods/drops/tops/aerobars",
    "bodyPosition": "seated/standing",
    "legFocus": "both/left/right"
  },
  "coachComments": [
    {
      "triggerTimeSec": 30,
      "message": "–¢–µ–∫—Å—Ç —Ä–µ–ø–ª–∏–∫–∏",
      "type": "instruction/motivation/warning",
      "durationSec": 5,
      "priority": "low/medium/high"
    }
  ]
}
#### 6. –î–∞–Ω–Ω—ã–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è (workoutData)
JSON
Ó¶∫
Ó•ä
{
  "timestampStart": "–î–∞—Ç–∞ –≤ ISO 8601",
  "timestampEnd": "–î–∞—Ç–∞ –≤ ISO 8601",
  "records": [
    {
      "timestamp": "–î–∞—Ç–∞ –≤ ISO 8601",
      "powerW": 150,
      "cadenceRpm": 85,
      "heartRateBpm": 140,
      "resistance": 50,
      "speedKph": 30.5,
      "distanceM": 1000
    }
  ],
  "positionTelemetry": [
    {
      "timestamp": "–î–∞—Ç–∞ –≤ ISO 8601",
      "handsPosition": "hoods",
      "bodyPosition": "seated",
      "legForceDistribution": {
        "left": 55.3,
        "right": 44.7
      }
    }
  ],
  "coachFeedback": [
    {
      "timestamp": "–î–∞—Ç–∞ –≤ ISO 8601",
      "message": "–¢–µ–∫—Å—Ç –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏",
      "type": "correction/biomechCorrection",
      "severity": "low/medium/high"
    }
  ],
  "summary": {
    "avgPowerW": 200,
    "totalEnergyKj": 1200,
    "avgCadenceRpm": 85,
    "avgHeartRateBpm": 150,
    "totalDistanceM": 18000
  }
}
#### 7. –ü—Ä–∞–≤–∏–ª–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
1. –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è:
   - formatVersion, metadata.id, workoutPlan.segments
   - –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞: type, durationSec
   - –î–ª—è —Ä–µ–ø–ª–∏–∫: triggerTimeSec, message

2. –¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö:
   - –í—Ä–µ–º—è - —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞ (—Å–µ–∫—É–Ω–¥—ã)
   - –ú–æ—â–Ω–æ—Å—Ç—å - —á–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π (–í—Ç)
   - –ü—Ä–æ—Ü–µ–Ω—Ç—ã - —á–∏—Å–ª–∞ –æ—Ç 0 –¥–æ 100

3. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:
   - –°—É–º–º–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π —Å–µ–≥–º–µ–Ω—Ç–æ–≤ –¥–æ–ª–∂–Ω–∞ —Ä–∞–≤–Ω—è—Ç—å—Å—è totalDurationSec
   - triggerTimeSec –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–µ–≤—ã—à–∞—Ç—å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–µ–≥–º–µ–Ω—Ç–∞
   - –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –Ω–æ–≥–∏ –¥–æ–ª–∂–Ω–æ —Å—É–º–º–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ 100%

#### 8. –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
JSON
Ó¶∫
Ó•ä
{
  "formatVersion": "1.2",
  "metadata": {
    "id": "a1b2c3d4-e5f6-7890",
    "title": "–ò–Ω—Ç–µ—Ä–≤–∞–ª—å–Ω–∞—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞",
    "author": "AI –¢—Ä–µ–Ω–µ—Ä"
  },
  "workoutPlan": {
    "segments": [
      {
        "type": "warmup",
        "durationSec": 300,
        "targetPower": {
          "type": "ramp",
          "start": 100,
          "end": 150
        }
      }
    ]
  }
}
#### 9. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
1. –î–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–æ–ª—å—à–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏:
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–æ—Ç–æ–∫–æ–≤–æ–µ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å
   - –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –∑–∞–ø–∏—Å–∏ –¥–∞–Ω–Ω—ã—Ö: 1-10 –ì—Ü
2. –î–ª—è —É—Å–ª–æ–≤–∏–π –≤ triggerCondition:
   - –†–µ–∞–ª–∏–∑—É–π—Ç–µ –ø—Ä–æ—Å—Ç–æ–π DSL-–ø–∞—Ä—Å–µ—Ä
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–π—Ç–µ –±–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ç–æ—Ä—ã: >, <, >=, <=, ==, &&, ||

3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:
   - –í–∞–ª–∏–¥–∏—Ä—É–π—Ç–µ JSON –ø–æ —Å—Ö–µ–º–µ
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö (—Å—É–º–º—ã –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–µ–π –∏ —Ç.–¥.)

–§–æ—Ä–º–∞—Ç –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –ø–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ - –æ—Ç –ø–ª–∞–Ω–∞ –¥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –±–∏–æ–º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ —Ç—Ä–µ–Ω–µ—Ä–∞.
W### –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏ —Ä–æ–ª–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫

#### 1. –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
| –†–æ–ª—å               | –û–ø–∏—Å–∞–Ω–∏–µ                                                                 |
|--------------------|--------------------------------------------------------------------------|
| –°–ø–æ—Ä—Ç—Å–º–µ–Ω      | –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, –∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤                    |
| –¢—Ä–µ–Ω–µ—Ä         | –°–æ–∑–¥–∞–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, –∫–æ—Ä—Ä–µ–∫—Ü–∏—è    |
| –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫    | –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞ —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏ –∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏                        |
| –ê–Ω–∞–ª–∏—Ç–∏–∫       | –ê–Ω–∞–ª–∏–∑ aggregated –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º           |

---

### 2. –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
#### 2.1. –ë–∞–∑–æ–≤—ã–π –ø–ª–µ–µ—Ä
- –†–µ–∂–∏–º—ã –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è:
  - –ì—Ä–∞—Ñ–∏–∫ –º–æ—â–Ω–æ—Å—Ç–∏/–ø—É–ª—å—Å–∞/–∫–∞–¥–µ–Ω—Å–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
  - –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç —Å —Ä–µ–ª—å–µ—Ñ–æ–º (–¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ –ø–æ–¥—ä–µ–º–æ–≤/—Å–ø—É—Å–∫–æ–≤)
  - –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π HUD (–æ—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏)

- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
 
Python
Ó¶∫
Ó•ä
  def play_pause(): pass  # –ü–∞—É–∑–∞/–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ
  def skip_segment(): pass  # –ü–µ—Ä–µ—Ö–æ–¥ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —Å–µ–≥–º–µ–Ω—Ç—É
  def adjust_difficulty(percent): pass  # –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∞—è –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ –Ω–∞–≥—Ä—É–∑–∫–∏ (¬±10-20%)
  
- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã:
  - –ö–Ω–æ–ø–∫–∞ —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–≥–æ —Å–Ω–∏–∂–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ (emergency_power_reduce)
  - –û–≤–µ—Ä–ª–µ–π —Å —Ä–µ–ø–ª–∏–∫–∞–º–∏ —Ç—Ä–µ–Ω–µ—Ä–∞ (—Ç–µ–∫—Å—Ç + —Å–∏–Ω—Ç–µ–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–µ—á—å)
  - –ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø–æ –ø–æ–ª–æ–∂–µ–Ω–∏—é —Ç–µ–ª–∞ (–∞–Ω–∏–º–∞—Ü–∏—è 3D-–º–æ–¥–µ–ª–∏ –≤–µ–ª–æ—Å–∏–ø–µ–¥–∏—Å—Ç–∞)

#### 2.2. –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ–∏—á–∏
- –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç:
  - –ê–Ω–∞–ª–∏–∑ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–π –æ—Ç –ø–ª–∞–Ω–∞: 
   
Python
Ó¶∫
Ó•ä
    if current_power < target_power * 0.8:
        suggest_increase_resistance()
    
  - –ü—Ä–æ–≥–Ω–æ–∑ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—É—â–µ–≥–æ —Ç–µ–º–ø–∞

- –ú—É–ª—å—Ç–∏–ø–ª–µ–µ—Ä:
  - –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≥—Ä—É–ø–ø–æ–≤–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
  - –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏

- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ–∫—Ä—É–∂–µ–Ω–∏–µ–º:
  - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É–º–Ω—ã–º –æ—Å–≤–µ—â–µ–Ω–∏–µ–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫—Ä–∞—Å–Ω—ã–π —Å–≤–µ—Ç –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–º –ø—É–ª—å—Å–µ)
  - –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –≤ Strava/Garmin Connect

---

### 3. –§—É–Ω–∫—Ü–∏–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
#### 3.1. –í–∏–∑—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
  - Timeline-—Ä–µ–¥–∞–∫—Ç–æ—Ä —Å–µ–≥–º–µ–Ω—Ç–æ–≤ —Å drag-and-drop
  - –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è –º–æ—â–Ω–æ—Å—Ç–∏/–ø—É–ª—å—Å–∞
  - –®–∞–±–ª–æ–Ω—ã: "–ò–Ω—Ç–µ—Ä–≤–∞–ª—ã 30/30", "–ì–æ—Ä–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å" –∏ —Ç.–¥.

- –õ–æ–≥–∏–∫–∞:
 
Python
Ó¶∫
Ó•ä
  def add_segment(type, duration, power_profile): pass
  def auto_generate_intervals(ftp, difficulty): pass  # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ FTP
  
#### 3.2. –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –°–∫—Ä–∏–ø—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º:
 
JSON
Ó¶∫
Ó•ä
  {
    "rules": [
      {
        "condition": "hr > 90%max",
        "action": "segment.repeat(2)",
        "comment": "–ü–æ–≤—Ç–æ—Ä–∏—Ç—å —Å–µ–≥–º–µ–Ω—Ç –ø—Ä–∏ –≤—ã—Å–æ–∫–æ–º –ø—É–ª—å—Å–µ"
      }
    ]
  }
  
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
  - –°–∏–º—É–ª—è—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–º —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–æ–º
  - –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –Ω–∞–≥—Ä—É–∑–æ–∫

#### 3.3. –ö–æ–ª–ª–∞–±–æ—Ä–∞—Ü–∏—è
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –ø—Ä–∞–≤–∫–∏ –º–µ–∂–¥—É —Ç—Ä–µ–Ω–µ—Ä–æ–º –∏ —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–æ–º
- –í–µ—Ä—Å–∏–æ–Ω–Ω–æ—Å—Ç—å (Git-like –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π)

---

### 4. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç            | –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è                             |
|----------------------|------------------------------------------------|
| –£–º–Ω—ã–µ –¥–∞—Ç—á–∏–∫–∏    | –ó–∞–≥—Ä—É–∑–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞–≥—Ä—É–∑–∫–∏ –Ω–∞ –Ω–æ–≥–∏ |
| –ö–∞–ª–µ–Ω–¥–∞—Ä–∏        | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ |
| API –∞–Ω–∞–ª–∏—Ç–∏–∫–∏    | –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏            |

---

### 5. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è
- –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –ª–∏–º–∏—Ç—ã:
 
JSON
Ó¶∫
Ó•ä
  {
    "safetyLimits": {
      "maxHeartRate": 190,
      "maxPower": "120%ftp"
    }
  }
  
  
- –°–∫–∏–Ω—ã:
  - –¢–µ–º–∞ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –ø–æ–¥ —Å–æ—Ä–µ–≤–Ω–æ–≤–∞–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, Tour de France)
  - –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∑–≤—É–∫–æ–≤—ã–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è

---

### –ü—Ä–∏–º–µ—Ä workflow –¥–ª—è —Ç—Ä–µ–Ω–µ—Ä–∞
1. –°–æ–∑–¥–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –≤ –≤–∏–∑—É–∞–ª—å–Ω–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ
3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–ø–æ—Ä—Ç—Å–º–µ–Ω—É —á–µ—Ä–µ–∑ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
4. –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:
  
Python
Ó¶∫
Ó•ä
   if athlete.power.drop > 15%:
       send_message("–ü—Ä–æ–≤–µ—Ä—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ!")
   
5. –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–ª–∞–Ω

---

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
1. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º:
   - Windows/macOS (–¥–µ—Å–∫—Ç–æ–ø-—Ä–µ–¥–∞–∫—Ç–æ—Ä)
   - iOS/Android (–ø–ª–µ–µ—Ä)
   - Web (–ø—Ä–æ—Å–º–æ—Ç—Ä –∞–Ω–∞–ª–∏—Ç–∏–∫–∏)
2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
   - –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≥—Ä–∞—Ñ–∏–∫–æ–≤ —Å —á–∞—Å—Ç–æ—Ç–æ–π 60 FPS
   - –ó–∞–¥–µ—Ä–∂–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö < 100 –º—Å

3. –≠–∫–æ—Å–∏—Å—Ç–µ–º–∞:
  
Mermaid
Ó¶∫
Ó•ä
   graph LR
     A[–§–∞–π–ª .json] --> B(–ü–ª–µ–µ—Ä)
     A --> C(–ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä)
     A --> D(–ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä –≤ FIT/TCX)
   
–§–æ—Ä–º–∞—Ç –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å –∫–∞–∫ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ ("–ø—Ä–æ—Å—Ç–æ –∫—Ä—É—Ç–∏ –ø–µ–¥–∞–ª–∏"), —Ç–∞–∫ –∏ –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ—á–Ω—ã—Ö –ø—Ä–æ–≥—Ä–∞–º–º —Å –±–∏–æ–º–µ—Ö–∞–Ω–∏—á–µ—Å–∫–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é.
–ø–ª–∞–Ω –∏ —ç—Ç–∞–ø—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
### –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫

–†–∞–∑–±–∏–≤–∞–µ–º —Ä–∞–±–æ—Ç—É –Ω–∞ 2 –ø–æ—Ç–æ–∫–∞:  
1) –ü–ª–µ–µ—Ä –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫  
2) –†–µ–¥–∞–∫—Ç–æ—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è/–∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–ª–∞–Ω–æ–≤

---

## üîß –ü–æ—Ç–æ–∫ 1: –ü–ª–µ–µ—Ä —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫

### –≠—Ç–∞–ø 1.1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
1. –ü–∞—Ä—Å–∏–Ω–≥ JSON  
   - –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é —Ñ–∞–π–ª–∞ –ø–æ —Å—Ö–µ–º–µ (JSON Schema)  
   - –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:
    
Python
Ó¶∫
Ó•ä
     def load_workout(file_path):
         with open(file_path) as f:
             data = json.load(f)
         validate_schema(data)  # –ü—Ä–æ–≤–µ—Ä–∫–∞ formatVersion –∏ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
         return data
     
2. –¢–∞–π–º–ª–∞–π–Ω —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏  
   - –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞—Ç—å —Å–µ–≥–º–µ–Ω—Ç—ã –≤ –ª–∏–Ω–µ–π–Ω—ã–π timeline —Å —Ä–∞—Å—á–µ—Ç–æ–º:  
    
Python
Ó¶∫
Ó•ä
     [
         {"time": 0, "type": "segment_start", "segment_id": 0},
         {"time": 30, "type": "coach_comment", "message": "–†–∞–∑–º–∏–Ω–∫–∞..."},
         {"time": 600, "type": "segment_end"}
     ]
     
### –≠—Ç–∞–ø 1.2: –Ø–¥—Ä–æ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞–Ω–∏—è
3. –î–≤–∏–∂–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è  
   - –¶–∏–∫–ª —Å —É—á–µ—Ç–æ–º –≤—Ä–µ–º–µ–Ω–∏:
    
Python
Ó¶∫
Ó•ä
     while current_time < total_duration:
         update_metrics(power, cadence, hr)  # –¢–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏
         check_events(timeline, current_time)  # –¢—Ä–∏–≥–≥–µ—Ä—ã —Ä–µ–ø–ª–∏–∫/—Å–µ–≥–º–µ–Ω—Ç–æ–≤
     
4. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–ø–ª–∏–∫ —Ç—Ä–µ–Ω–µ—Ä–∞  
   - –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–æ—Å—Ç—å (priority):  
     - high ‚Äì –ø–æ–≤–µ—Ä—Ö –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤, low ‚Äì –≤ –ª–æ–≥.  
   - –¢—Ä–∏–≥–≥–µ—Ä—ã –ø–æ –≤—Ä–µ–º–µ–Ω–∏/—É—Å–ª–æ–≤–∏—è–º (triggerCondition):
    
Python
Ó¶∫
Ó•ä
     if eval_condition("power > 90%ftp", current_metrics):
         show_message("–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ —É—Å–∏–ª–∏–µ!")
     
### –≠—Ç–∞–ø 1.3: –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å
5. –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π UI  
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:  
     - –¢–µ–∫—É—â–∞—è –º–æ—â–Ω–æ—Å—Ç—å/–ø—É–ª—å—Å/–∫–∞–¥–µ–Ω—Å  
     - –ü—Ä–æ–≥—Ä–µ—Å—Å —Å–µ–≥–º–µ–Ω—Ç–∞  
     - –°–ª–µ–¥—É—é—â–∞—è —Ä–µ–ø–ª–∏–∫–∞ —Ç—Ä–µ–Ω–µ—Ä–∞  
   - –ö–Ω–æ–ø–∫–∏: –ü–∞—É–∑–∞, –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å —Å–µ–≥–º–µ–Ω—Ç, –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞.

6. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º–∏  
   - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –¥–∞—Ç—á–∏–∫–æ–≤ —á–µ—Ä–µ–∑ ANT+/BLE:  
    
Python
Ó¶∫
Ó•ä
     bike = BleDevice.connect("PowerMeter")
     bike.on_data = lambda metrics: update_metrics(metrics)
     
---

## ‚úèÔ∏è –ü–æ—Ç–æ–∫ 2: –†–µ–¥–∞–∫—Ç–æ—Ä —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫

### –≠—Ç–∞–ø 2.1: –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
1. –ó–∞–≥—Ä—É–∑–∫–∞/—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤  
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ 1.2 + —ç–∫—Å–ø–æ—Ä—Ç –≤ .fit (–¥–ª—è Garmin).

2. –í–∏–∑—É–∞–ª—å–Ω—ã–π –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä —Å–µ–≥–º–µ–Ω—Ç–æ–≤  
   - Drag-and-drop –±–ª–æ–∫–æ–≤:  
    
copy
Ó¶∫
Ó•ä
     [–†–∞–∑–º–∏–Ω–∫–∞] ‚Äî‚Äî [–ò–Ω—Ç–µ—Ä–≤–∞–ª] ‚Äî‚Äî [–ó–∞–º–∏–Ω–∫–∞]
     
3. –†–µ–¥–∞–∫—Ç–æ—Ä –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Å–µ–≥–º–µ–Ω—Ç–∞  
   - –§–æ—Ä–º–∞ –¥–ª—è –ø–æ–ª–µ–π:  
     - –¢–∏–ø (interval, recovery)  
     - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å  
     - –ú–æ—â–Ω–æ—Å—Ç—å (constant, ramp)  
     - –ü–æ–ª–æ–∂–µ–Ω–∏–µ —Ç–µ–ª–∞ (–≤—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫).

### –≠—Ç–∞–ø 2.2: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
4. –°–∫—Ä–∏–ø—Ç–æ–≤—ã–µ —É—Å–ª–æ–≤–∏—è  
   - –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Ä–µ–¥–∞–∫—Ç–æ—Ä –¥–ª—è triggerCondition:  
    
Python
Ó¶∫
Ó•ä
     # –í–∞–ª–∏–¥–∞—Ü–∏—è —É—Å–ª–æ–≤–∏–π –Ω–∞ –ª–µ—Ç—É
     try:
         eval("power > 90%ftp", sample_metrics)
     except:
         show_error("–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ!")
     
5. –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏  
   - –ì—Ä–∞—Ñ–∏–∫ –º–æ—â–Ω–æ—Å—Ç–∏/–ø—É–ª—å—Å–∞ –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º:  
    
Python
Ó¶∫
Ó•ä
     plt.plot(segments["duration"], segments["targetPower"])
     
6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å–∏–º—É–ª—è—Ç–æ—Ä–µ  
   - –ó–∞–ø—É—Å–∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–∞:  
    
Python
Ó¶∫
Ó•ä
     simulator.run(workout, athlete_profile)
     
---

## üîó –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–æ–±—â–∏–µ –∑–∞–¥–∞—á–∏)

### –≠—Ç–∞–ø 3.1: –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
1. –õ–∏–º–∏—Ç—ã –Ω–∞–≥—Ä—É–∑–∫–∏  
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏:  
    
Python
Ó¶∫
Ó•ä
     if segment["targetPower"] > user_profile["ftp"] * 1.5:
         raise Error("–û–ø–∞—Å–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞!")
     
2. –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π  
   - Git-like —Å–∏—Å—Ç–µ–º–∞ –≤–µ—Ä—Å–∏–π –¥–ª—è —Ñ–∞–π–ª–æ–≤:  
    
copy
Ó¶∫
Ó•ä
     workout_v1.json ‚Üí workout_v2.json (–∏–∑–º–µ–Ω–µ–Ω–æ: —Å–µ–≥–º–µ–Ω—Ç 3)
     
### –≠—Ç–∞–ø 3.2: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
3. –ö–æ–Ω–≤–µ—Ä—Ç–µ—Ä—ã  
   - –≠–∫—Å–ø–æ—Ä—Ç –≤ .tcx/.fit –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏.

4. –ü–ª–∞–≥–∏–Ω—ã  
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –≥–æ–Ω–æ–∫).

---

## üìå –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞—á
1. MVP (2 –Ω–µ–¥–µ–ª–∏)  
   - –ü–ª–µ–µ—Ä: –∑–∞–≥—Ä—É–∑–∫–∞ JSON + —Ç–∞–π–º–ª–∞–π–Ω.  
   - –†–µ–¥–∞–∫—Ç–æ—Ä: —Å–æ–∑–¥–∞–Ω–∏–µ —Å–µ–≥–º–µ–Ω—Ç–æ–≤ + —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ.

2. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ (1 –º–µ—Å—è—Ü)  
   - –£—Å–ª–æ–≤–∏—è –≤ —Ä–µ–ø–ª–∏–∫–∞—Ö + —Å–∏–º—É–ª—è—Ç–æ—Ä.  
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –¥–∞—Ç—á–∏–∫–∞–º–∏.

3. –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è  
   - –ü–æ—Ç–æ–∫–æ–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤.  
   - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–µ–¥–≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
–ü—Ä–∏–º–µ—Ä —á–µ–∫-–ª–∏—Å—Ç–∞ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:  
Markdown
Ó¶∫
Ó•ä
- [ ] –ü–∞—Ä—Å–∏–Ω–≥ JSON —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π  
- [ ] –î–≤–∏–∂–æ–∫ —Ç–∞–π–º–ª–∞–π–Ω–∞  
- [ ] –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ø–ª–µ–µ—Ä–∞ (–∫–Ω–æ–ø–∫–∏ + –º–µ—Ç—Ä–∏–∫–∏)  
- [ ] –†–µ–¥–∞–∫—Ç–æ—Ä —Å–µ–≥–º–µ–Ω—Ç–æ–≤  
- [ ] –°–∏—Å—Ç–µ–º–∞ —É—Å–ª–æ–≤–∏–π 